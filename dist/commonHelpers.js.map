{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js"],"sourcesContent":["import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst form = document.querySelector('.search-form');\r\nconst imagesContainer = document.querySelector('.search-images');\r\nconst inputForm = document.querySelector('.input-form');\r\nconst loader = document.querySelector(\".loader\");\r\n\r\nform.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const query = inputForm.value.trim();\r\n    if (query === '') {\r\n        iziToast.error({\r\n            title: 'Error',\r\n            message: 'Please enter a search term.',\r\n            position:'topRight'\r\n        });\r\n        return;\r\n    }\r\n    loader.classList.remove('hidden');\r\n    imagesContainer.innerHTML = \"\";\r\n\r\n    const API_KEY = '35210145-a84c43ab2193c18f9a40991ef';\r\n    const BASE_URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=1&q=${query}`;\r\n    \r\n    fetch(BASE_URL)\r\n    .then((response) => {\r\n        if (!response.ok) {\r\n            iziToast.error({\r\n                title: 'Error',\r\n                message: 'Please enter a valid search term.',\r\n                position:'topRight'\r\n            });\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n    })\r\n    .then(data => {\r\n        if (data.hits.length === 0) {\r\n          iziToast.warning({\r\n            title: 'No Results',\r\n            message: 'Sorry, there are no images matching your search query. Please try again!'\r\n          });\r\n          return;\r\n        }\r\n        renderImages(data.hits);\r\n    })\r\n    .catch(error => {\r\n        console.error('Error fetching data:', error);\r\n        iziToast.error({\r\n            title: \"Error\",\r\n            position: 'topRight',\r\n            message: 'An error occurred while fetching data. Please try again.'\r\n        });\r\n    })\r\n    .finally(() =>{\r\n\r\n        loader.classList.add('hidden');\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction imageTemplate(image) {\r\n    return `\r\n        <div class='photo-card'>\r\n            <a href='${image.largeImageURL}'>\r\n                <img src='${image.webformatURL}' alt='${image.tags}' loading='lazy' class='image-gallery' />\r\n            </a>\r\n            <div class='info-card'>\r\n                <p class='info-item'>\r\n                    <b>Likes</b> ${image.likes}\r\n                </p>\r\n                <p class='info-item'>\r\n                    <b>Views</b> ${image.views}\r\n                </p>\r\n                <p class='info-item'>\r\n                    <b>Comments</b> ${image.comments}\r\n                </p>\r\n                <p class='info-item'>\r\n                    <b>Downloads</b> ${image.downloads}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n\r\nfunction renderImages(images) {\r\n    const markup = images.map(image => imageTemplate(image)).join('');\r\n    imagesContainer.innerHTML = markup;\r\n    const galleryList = new SimpleLightbox('.search-images .photo-card a', {\r\n        captionsData: 'alt',\r\n        captionDelay: 250,\r\n        enableKeyboard: true,\r\n        showCounter: false,\r\n        scrollZoom: false,\r\n        close: false,\r\n    });\r\n    galleryList.refresh();\r\n}"],"names":["form","imagesContainer","inputForm","loader","e","query","iziToast","BASE_URL","response","data","renderImages","error","imageTemplate","image","images","markup","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAWI,GAAM,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAQH,EAAU,MAAM,KAAI,EAClC,GAAIG,IAAU,GAAI,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,SAAS,UACrB,CAAS,EACD,MACH,CACDH,EAAO,UAAU,OAAO,QAAQ,EAChCF,EAAgB,UAAY,GAG5B,MAAMM,EAAW,gJAAwHF,IAEzI,MAAME,CAAQ,EACb,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAAF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACT,SAAS,UACzB,CAAa,EACK,IAAI,MAAM,6BAA6B,EAEjD,OAAOE,EAAS,MACxB,CAAK,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACrB,CAAW,EACD,MACD,CACDI,EAAaD,EAAK,IAAI,CAC9B,CAAK,EACA,MAAME,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACX,MAAO,QACP,SAAU,WACV,QAAS,0DACrB,CAAS,CACT,CAAK,EACA,QAAQ,IAAK,CAEVH,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAK,CACL,CAAC,EAOD,SAASS,EAAcC,EAAO,CAC1B,MAAO;AAAA;AAAA,uBAEYA,EAAM;AAAA,4BACDA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA,mCAI3BA,EAAM;AAAA;AAAA;AAAA,mCAGNA,EAAM;AAAA;AAAA;AAAA,sCAGHA,EAAM;AAAA;AAAA;AAAA,uCAGLA,EAAM;AAAA;AAAA;AAAA;AAAA,KAK7C,CAGA,SAASH,EAAaI,EAAQ,CAC1B,MAAMC,EAASD,EAAO,IAAID,GAASD,EAAcC,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEZ,EAAgB,UAAYc,EACR,IAAIC,EAAe,+BAAgC,CACnE,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,YAAa,GACb,WAAY,GACZ,MAAO,EACf,CAAK,EACW,QAAO,CACvB"}