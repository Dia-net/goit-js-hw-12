{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst imagesContainer = document.querySelector('.search-images');\nconst inputForm = document.querySelector('.input-form');\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const query = inputForm.value.trim();\n    if (query === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term.',\n            position:'topRight'\n        });\n        return;\n    }\n    loader.classList.remove('hidden');\n    imagesContainer.innerHTML = \"\";\n\n    const API_KEY = '35210145-a84c43ab2193c18f9a40991ef';\n    const BASE_URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=1&q=${query}`;\n    \n    fetch(BASE_URL)\n    .then((response) => {\n        if (!response.ok) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please enter a valid search term.',\n                position:'topRight'\n            });\n            throw new Error('Network response was not ok');\n        }\n        return response.json();\n    })\n    .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.warning({\n            title: 'No Results',\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n          });\n          return;\n        }\n        renderImages(data.hits);\n    })\n    .catch(error => {\n        console.error('Error fetching data:', error);\n        iziToast.error({\n            title: \"Error\",\n            position: 'topRight',\n            message: 'An error occurred while fetching data. Please try again.'\n        });\n    })\n    .finally(() =>{\n\n        loader.classList.add('hidden');\n    });\n});\n\n\n\n\n\n\nfunction imageTemplate(image) {\n    return `\n        <div class='photo-card'>\n            <a href='${image.largeImageURL}'>\n                <img src='${image.webformatURL}' alt='${image.tags}' loading='lazy' class='image-gallery' />\n            </a>\n            <div class='info-card'>\n                <p class='info-item'>\n                    <b>Likes</b> ${image.likes}\n                </p>\n                <p class='info-item'>\n                    <b>Views</b> ${image.views}\n                </p>\n                <p class='info-item'>\n                    <b>Comments</b> ${image.comments}\n                </p>\n                <p class='info-item'>\n                    <b>Downloads</b> ${image.downloads}\n                </p>\n            </div>\n        </div>\n    `;\n}\n\n\nfunction renderImages(images) {\n    const markup = images.map(image => imageTemplate(image)).join('');\n    imagesContainer.innerHTML = markup;\n    const galleryList = new SimpleLightbox('.search-images .photo-card a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        enableKeyboard: true,\n        showCounter: false,\n        scrollZoom: false,\n        close: false,\n    });\n    galleryList.refresh();\n}"],"names":["form","imagesContainer","inputForm","loader","e","query","iziToast","BASE_URL","response","data","renderImages","error","imageTemplate","image","images","markup","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAWI,GAAM,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAQH,EAAU,MAAM,KAAI,EAClC,GAAIG,IAAU,GAAI,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,SAAS,UACrB,CAAS,EACD,MACH,CACDH,EAAO,UAAU,OAAO,QAAQ,EAChCF,EAAgB,UAAY,GAG5B,MAAMM,EAAW,gJAAwHF,IAEzI,MAAME,CAAQ,EACb,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAAF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACT,SAAS,UACzB,CAAa,EACK,IAAI,MAAM,6BAA6B,EAEjD,OAAOE,EAAS,MACxB,CAAK,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACrB,CAAW,EACD,MACD,CACDI,EAAaD,EAAK,IAAI,CAC9B,CAAK,EACA,MAAME,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACX,MAAO,QACP,SAAU,WACV,QAAS,0DACrB,CAAS,CACT,CAAK,EACA,QAAQ,IAAK,CAEVH,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAK,CACL,CAAC,EAOD,SAASS,EAAcC,EAAO,CAC1B,MAAO;AAAA;AAAA,uBAEYA,EAAM;AAAA,4BACDA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA,mCAI3BA,EAAM;AAAA;AAAA;AAAA,mCAGNA,EAAM;AAAA;AAAA;AAAA,sCAGHA,EAAM;AAAA;AAAA;AAAA,uCAGLA,EAAM;AAAA;AAAA;AAAA;AAAA,KAK7C,CAGA,SAASH,EAAaI,EAAQ,CAC1B,MAAMC,EAASD,EAAO,IAAID,GAASD,EAAcC,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEZ,EAAgB,UAAYc,EACR,IAAIC,EAAe,+BAAgC,CACnE,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,YAAa,GACb,WAAY,GACZ,MAAO,EACf,CAAK,EACW,QAAO,CACvB"}